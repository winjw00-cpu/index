<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë¶êµ¬ë³´ê±´ì†Œ ì¬í™œìˆ˜ì²©</title>
    <style>
        :root {
            --main-green: #2ecc71;
            --dark-green: #27ae60;
            --soft-bg: #f9fbf9;
        }

        body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            background-color: var(--soft-bg);
            margin: 0; padding: 0;
            display: flex; justify-content: center;
        }

        .mobile-container {
            width: 100%; max-width: 480px; min-height: 100vh;
            background: white; box-shadow: 0 0 20px rgba(0,0,0,0.05);
            padding: 20px; box-sizing: border-box;
        }

        /* í—¤ë” ë””ìì¸ */
        .header { text-align: center; padding: 20px 0; }
        .header img { width: 50px; margin-bottom: 10px; } /* ë³´ê±´ì†Œ ë¡œê³  ìë¦¬ */
        .header h1 { font-size: 1.5rem; color: #333; margin: 0; }
        .header p { color: var(--main-green); font-weight: bold; margin-top: 5px; }

        /* ì…ë ¥ì°½ ì˜ì—­ */
        .login-section {
            margin-top: 50px; text-align: center;
        }
        .login-section input {
            width: 80%; padding: 15px; font-size: 1.1rem;
            border: 2px solid #eee; border-radius: 12px;
            margin-bottom: 15px; outline: none; transition: 0.3s;
        }
        .login-section input:focus { border-color: var(--main-green); }
        .btn-start {
            width: 85%; padding: 15px; background: var(--main-green);
            color: white; border: none; border-radius: 12px;
            font-size: 1.2rem; font-weight: bold; cursor: pointer;
        }

        /* ë‹¬ë ¥ ì˜ì—­ */
        #mainContents { display: none; animation: fadeIn 0.5s; }
        .month-title { font-size: 1.8rem; font-weight: 800; text-align: center; margin: 20px 0; color: #2c3e50; }
        
        .calendar-card {
            background: #fff; border: 1px solid #eee; border-radius: 20px; padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
        .day { text-align: center; font-size: 0.8rem; font-weight: bold; color: #bbb; padding: 10px 0; }
        
        .date-cell {
            aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; font-weight: 600; border-radius: 50%;
            cursor: pointer; transition: 0.2s; border: 1px solid transparent;
        }
        .date-cell.checked { background: var(--main-green); color: white; transform: scale(1.1); }
        .date-cell:active { background: #e0f9e8; }

        /* í•˜ë‹¨ ì•ˆë‚´ ë° ë²„íŠ¼ */
        .footer-info {
            background: #f1f8f4; padding: 15px; border-radius: 12px;
            margin-top: 25px; font-size: 0.9rem; line-height: 1.6; color: #555;
        }
        .btn-send {
            width: 100%; padding: 18px; background: #3498db;
            color: white; border: none; border-radius: 12px;
            font-size: 1.1rem; font-weight: bold; margin-top: 20px;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="mobile-container">
    <div class="header">
        <h1>ğŸ¥ ìŠ¤ë§ˆíŠ¸ ì¬í™œìˆ˜ì²©</h1>
        <p>ìš¸ì‚° ë¶êµ¬ë³´ê±´ì†Œ</p>
    </div>

    <div id="loginArea" class="login-section">
        <input type="text" id="userName" placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" autocomplete="off">
        <button class="btn-start" onclick="initApp()">ë‚˜ì˜ ë‹¬ë ¥ ì—´ê¸°</button>
        <p style="font-size: 0.8rem; color: #999; margin-top: 20px;">ì •ë³´ëŠ” ë³¸ì¸ íœ´ëŒ€í°ì—ë§Œ ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤.</p>
    </div>

    <div id="mainContents">
        <div class="month-title" id="monthText"></div>
        
        <div class="calendar-card">
            <div class="grid">
                <div class="day" style="color:#ff6b6b">ì¼</div><div class="day">ì›”</div><div class="day">í™”</div>
                <div class="day">ìˆ˜</div><div class="day">ëª©</div><div class="day">ê¸ˆ</div><div class="day" style="color:#48dbfb">í† </div>
            </div>
            <div id="dateGrid" class="grid"></div>
        </div>

        <div class="footer-info">
            âœ… <b>ìš´ë™ ì™„ë£Œ!</b> : ì˜¤ëŠ˜ ìš´ë™ì„ ë§ˆì³¤ë‹¤ë©´ ë‚ ì§œë¥¼ í„°ì¹˜í•˜ì„¸ìš”.<br>
            âœ… <b>ë‹´ë‹¹ì ì „ì†¡</b> : ì¼ì£¼ì¼ë§ˆë‹¤ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹´ë‹¹ ì„ ìƒë‹˜ê»˜ ê¸°ë¡ì„ ë³´ë‚´ì£¼ì„¸ìš”.
        </div>

        <button class="btn-send" onclick="sendData()">ğŸ“¤ ê¸°ë¡ ë‹´ë‹¹ìì—ê²Œ ë³´ë‚´ê¸°</button>
    </div>
</div>

<script>
    let currentUser = "";
    let exerciseDates = [];
    const dateObj = new Date();
    const currentYear = dateObj.getFullYear();
    const currentMonth = dateObj.getMonth();

    function initApp() {
        const name = document.getElementById('userName').value.trim();
        if(!name) return alert("ì„±í•¨ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        
        currentUser = name;
        document.getElementById('loginArea').style.display = 'none';
        document.getElementById('mainContents').style.display = 'block';
        document.getElementById('monthText').innerText = (currentMonth + 1) + "ì›” í™œë™";

        const saved = localStorage.getItem("rehab_user_" + currentUser);
        exerciseDates = saved ? JSON.parse(saved) : [];
        render();
    }

    function render() {
        const grid = document.getElementById('dateGrid');
        grid.innerHTML = "";

        const startDay = new Date(currentYear, currentMonth, 1).getDay();
        const lastDate = new Date(currentYear, currentMonth + 1, 0).getDate();

        for(let i=0; i<startDay; i++) grid.innerHTML += "<div></div>";

        for(let i=1; i<=lastDate; i++) {
            const dateKey = `${currentMonth + 1}/${i}`;
            const isDone = exerciseDates.includes(dateKey);
            
            const cell = document.createElement('div');
            cell.className = `date-cell ${isDone ? 'checked' : ''}`;
            cell.innerText = i;
            cell.onclick = () => {
                if(exerciseDates.includes(dateKey)) {
                    exerciseDates = exerciseDates.filter(d => d !== dateKey);
                } else {
                    exerciseDates.push(dateKey);
                }
                localStorage.setItem("rehab_user_" + currentUser, JSON.stringify(exerciseDates));
                render();
            };
            grid.appendChild(cell);
        }
    }

    function sendData() {
        if(exerciseDates.length === 0) return alert("ì²´í¬ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.");
        
        const sorted = exerciseDates.sort((a,b) => new Date(a) - new Date(b));
        const message = `[ë¶êµ¬ë³´ê±´ì†Œ ì¬í™œë³´ê³ ]\nì„±í•¨: ${currentUser}\nì°¸ì—¬íšŸìˆ˜: ${exerciseDates.length}íšŒ\nì™„ë£Œë‚ ì§œ: ${sorted.join(', ')}`;
        
        // ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì„ ìœ„í•´ prompt ì‚¬ìš© (ê°€ì¥ í™•ì‹¤í•¨)
        window.prompt("ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ ë‹´ë‹¹ìì—ê²Œ ì¹´í†¡ì´ë‚˜ ë¬¸ìë¡œ ë³´ë‚´ì£¼ì„¸ìš”.", message);
    }
</script>

</body>
</html>